function validate(){return returnValue=!0,checkField($("ProductCode"),"Debe especificar un código de producto")&&checkNatural($("Points"),"Debe especificar un valor numérico positivo")||(returnValue=!1),returnValue}function showhide(n){var t=document.getElementById(n).style;t.visibility=params.IsBlockedUser==!1&&params.UserType?"visible":"hidden"}Ext.onReady(function(){var n,t,i,r;showhide("UserTypeHeader2");showhide("UserTypeValue2");params.Status==1&&params.IsModifyButtonVisible&&(n=new Ext.Button({text:"Modificar",renderTo:"btnSubmit",tabIndex:1,minWidth:120,handler:function(){if(!validate())return!1;var n={MoveId:$("MoveId").value,ProductType:$("ProductType").value,ProductCode:$("ProductCode").value,Points:$("Points").value,Concept:$("Concept").value};Ext.Ajax.request({url:params.UrlUpdate,params:n,success:function(n){respObj=Ext.decode(n.responseText);respObj.success?(alert("El movimiento se ha actualizado correctamente"),document.location.reload()):alert(respObj.errorMsg)},failure:function(n){n!=null&&n!=undefined&&n.length>0?(respObj=Ext.decode(n.responseText),alert(respObj.errorMsg)):alert("Ocurrió un error desconocido intentando guardar el movimiento")}})}}));(params.Status==1||params.Status==2)&&(t=new Ext.Button({text:"Anular movimiento",renderTo:"btnCancel",tabIndex:2,minWidth:120,handler:function(){var n={MoveId:$("MoveId").value};Ext.Ajax.request({url:params.UrlCancel,params:n,success:function(n){respObj=Ext.decode(n.responseText);respObj.success?(alert("El movimiento se ha anulado"),document.location.reload()):alert(respObj.errorMsg)},failure:function(n){n!=null&&n!=undefined&&n.length>0?(respObj=Ext.decode(n.responseText),alert(respObj.errorMsg)):alert("Ocurrió un error desconocido intentando anular el movimiento")}})}}));i=new Ext.Button({text:"Regresar a movimientos",renderTo:"btnReturn",tabIndex:2,minWidth:120,handler:function(){document.location.href=params.UrlMovements}});r=new Ext.Button({text:"Regresar al perfil",renderTo:"btnProfile",tabIndex:3,minWidth:120,handler:function(){document.location.href=params.UrlProfile}})})