Ext.BoxComponent=Ext.extend(Ext.Component,{initComponent:function(){Ext.BoxComponent.superclass.initComponent.call(this);this.addEvents("resize","move")},boxReady:!1,deferHeight:!1,setSize:function(n,t){var u;if(typeof n=="object"&&(t=n.height,n=n.width),!this.boxReady)return this.width=n,this.height=t,this;if(this.lastSize&&this.lastSize.width==n&&this.lastSize.height==t)return this;this.lastSize={width:n,height:t};var f=this.adjustSize(n,t),i=f.width,r=f.height;if(i!==undefined||r!==undefined){u=this.getResizeEl();this.deferHeight||i===undefined||r===undefined?this.deferHeight||r===undefined?i!==undefined&&u.setWidth(i):u.setHeight(r):u.setSize(i,r);this.onResize(i,r,n,t);this.fireEvent("resize",this,i,r,n,t)}return this},setWidth:function(n){return this.setSize(n)},setHeight:function(n){return this.setSize(undefined,n)},getSize:function(){return this.el.getSize()},getPosition:function(n){return n===!0?[this.el.getLeft(!0),this.el.getTop(!0)]:this.xy||this.el.getXY()},getBox:function(n){var t=this.el.getSize(),i;return n===!0?(t.x=this.el.getLeft(!0),t.y=this.el.getTop(!0)):(i=this.xy||this.el.getXY(),t.x=i[0],t.y=i[1]),t},updateBox:function(n){return this.setSize(n.width,n.height),this.setPagePosition(n.x,n.y),this},getResizeEl:function(){return this.resizeEl||this.el},getPositionEl:function(){return this.positionEl||this.el},setPosition:function(n,t){if(n&&typeof n[1]=="number"&&(t=n[1],n=n[0]),this.x=n,this.y=t,!this.boxReady)return this;var f=this.adjustPosition(n,t),i=f.x,r=f.y,u=this.getPositionEl();if(i!==undefined||r!==undefined){i!==undefined&&r!==undefined?u.setLeftTop(i,r):i!==undefined?u.setLeft(i):r!==undefined&&u.setTop(r);this.onPosition(i,r);this.fireEvent("move",this,i,r)}return this},setPagePosition:function(n,t){if((n&&typeof n[1]=="number"&&(t=n[1],n=n[0]),this.pageX=n,this.pageY=t,this.boxReady)&&n!==undefined&&t!==undefined){var i=this.el.translatePoints(n,t);return this.setPosition(i.left,i.top),this}},onRender:function(n,t){Ext.BoxComponent.superclass.onRender.call(this,n,t);this.resizeEl&&(this.resizeEl=Ext.get(this.resizeEl));this.positionEl&&(this.positionEl=Ext.get(this.positionEl))},afterRender:function(){Ext.BoxComponent.superclass.afterRender.call(this);this.boxReady=!0;this.setSize(this.width,this.height);this.x||this.y?this.setPosition(this.x,this.y):(this.pageX||this.pageY)&&this.setPagePosition(this.pageX,this.pageY)},syncSize:function(){return delete this.lastSize,this.setSize(this.autoWidth?undefined:this.el.getWidth(),this.autoHeight?undefined:this.el.getHeight()),this},onResize:function(){},onPosition:function(){},adjustSize:function(n,t){return this.autoWidth&&(n="auto"),this.autoHeight&&(t="auto"),{width:n,height:t}},adjustPosition:function(n,t){return{x:n,y:t}}});Ext.reg("box",Ext.BoxComponent)