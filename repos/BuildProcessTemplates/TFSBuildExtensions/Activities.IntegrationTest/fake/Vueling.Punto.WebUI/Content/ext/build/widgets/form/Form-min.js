Ext.FormPanel=Ext.extend(Ext.Panel,{buttonAlign:"center",minButtonWidth:75,labelAlign:"left",monitorValid:!1,monitorPoll:200,layout:"form",initComponent:function(){this.form=this.createForm();Ext.FormPanel.superclass.initComponent.call(this);this.addEvents("clientvalidation");this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete"])},createForm:function(){return delete this.initialConfig.listeners,new Ext.form.BasicForm(null,this.initialConfig)},initFields:function(){var t=this.form,i=this,n=function(r){r.doLayout&&r!=i?(Ext.applyIf(r,{labelAlign:r.ownerCt.labelAlign,labelWidth:r.ownerCt.labelWidth,itemCls:r.ownerCt.itemCls}),r.items&&r.items.each(n)):r.isFormField&&t.add(r)};this.items.each(n)},getLayoutTarget:function(){return this.form.el},getForm:function(){return this.form},onRender:function(n,t){this.initFields();Ext.FormPanel.superclass.onRender.call(this,n,t);var i={tag:"form",method:this.method||"POST",id:this.formId||Ext.id()};this.fileUpload&&(i.enctype="multipart/form-data");this.form.initEl(this.body.createChild(i))},beforeDestroy:function(){Ext.FormPanel.superclass.beforeDestroy.call(this);Ext.destroy(this.form)},initEvents:function(){Ext.FormPanel.superclass.initEvents.call(this);this.items.on("remove",this.onRemove,this);this.items.on("add",this.onAdd,this);this.monitorValid&&this.startMonitoring()},onAdd:function(n,t){t.isFormField&&this.form.add(t)},onRemove:function(n){n.isFormField&&(Ext.destroy(n.container.up(".x-form-item")),this.form.remove(n))},startMonitoring:function(){this.bound||(this.bound=!0,Ext.TaskMgr.start({run:this.bindHandler,interval:this.monitorPoll||200,scope:this}))},stopMonitoring:function(){this.bound=!1},load:function(){this.form.load.apply(this.form,arguments)},onDisable:function(){Ext.FormPanel.superclass.onDisable.call(this);this.form&&this.form.items.each(function(){this.disable()})},onEnable:function(){Ext.FormPanel.superclass.onEnable.call(this);this.form&&this.form.items.each(function(){this.enable()})},bindHandler:function(){var n,t,r,i;if(!this.bound)return!1;if(n=!0,this.form.items.each(function(t){if(!t.isValid(!0))return n=!1,!1}),this.buttons)for(t=0,r=this.buttons.length;t<r;t++)i=this.buttons[t],i.formBind===!0&&i.disabled===n&&i.setDisabled(!n);this.fireEvent("clientvalidation",this,n)}});Ext.reg("form",Ext.FormPanel);Ext.form.FormPanel=Ext.FormPanel