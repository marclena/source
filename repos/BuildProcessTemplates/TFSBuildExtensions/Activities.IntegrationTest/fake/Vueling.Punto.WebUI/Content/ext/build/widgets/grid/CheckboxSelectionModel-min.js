Ext.grid.CheckboxSelectionModel=Ext.extend(Ext.grid.RowSelectionModel,{header:'<div class="x-grid3-hd-checker">&#160;<\/div>',width:20,sortable:!1,fixed:!0,dataIndex:"",id:"checker",initEvents:function(){Ext.grid.CheckboxSelectionModel.superclass.initEvents.call(this);this.grid.on("render",function(){var n=this.grid.getView();n.mainBody.on("mousedown",this.onMouseDown,this);Ext.fly(n.innerHd).on("mousedown",this.onHdMouseDown,this)},this)},onMouseDown:function(n,t){var r,i;n.button===0&&t.className=="x-grid3-row-checker"&&(n.stopEvent(),r=n.getTarget(".x-grid3-row"),r&&(i=r.rowIndex,this.isSelected(i)?this.deselectRow(i):this.selectRow(i,!0)))},onHdMouseDown:function(n,t){if(t.className=="x-grid3-hd-checker"){n.stopEvent();var i=Ext.fly(t.parentNode),r=i.hasClass("x-grid3-hd-checker-on");r?(i.removeClass("x-grid3-hd-checker-on"),this.clearSelections()):(i.addClass("x-grid3-hd-checker-on"),this.selectAll())}},renderer:function(){return'<div class="x-grid3-row-checker">&#160;<\/div>'}})