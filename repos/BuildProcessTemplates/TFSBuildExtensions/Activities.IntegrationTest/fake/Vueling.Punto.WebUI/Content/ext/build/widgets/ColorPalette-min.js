Ext.ColorPalette=function(n){if(Ext.ColorPalette.superclass.constructor.call(this,n),this.addEvents("select"),this.handler)this.on("select",this.handler,this.scope,!0)};Ext.extend(Ext.ColorPalette,Ext.Component,{itemCls:"x-color-palette",value:null,clickEvent:"click",ctype:"Ext.ColorPalette",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],onRender:function(n,t){var r=new Ext.XTemplate('<tpl for="."><a href="#" class="color-{.}" hidefocus="on"><em><span style="background:#{.}" unselectable="on">&#160;<\/span><\/em><\/a><\/tpl>'),i=document.createElement("div");i.className=this.itemCls;r.overwrite(i,this.colors);n.dom.insertBefore(i,t);this.el=Ext.get(i);this.el.on(this.clickEvent,this.handleClick,this,{delegate:"a"});if(this.clickEvent!="click")this.el.on("click",Ext.emptyFn,this,{delegate:"a",preventDefault:!0})},afterRender:function(){if(Ext.ColorPalette.superclass.afterRender.call(this),this.value){var n=this.value;this.value=null;this.select(n)}},handleClick:function(n,t){if(n.preventDefault(),!this.disabled){var i=t.className.match(/(?:^|\s)color-(.{6})(?:\s|$)/)[1];this.select(i.toUpperCase())}},select:function(n){if(n=n.replace("#",""),n!=this.value||this.allowReselect){var t=this.el;this.value&&t.child("a.color-"+this.value).removeClass("x-color-palette-sel");t.child("a.color-"+n).addClass("x-color-palette-sel");this.value=n;this.fireEvent("select",this,n)}}});Ext.reg("colorpalette",Ext.ColorPalette)