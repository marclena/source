YAHOO.util.Event||(YAHOO.util.Event=function(){var e=!1,n=[],t=[],i=[],f=[],r=0,u=[],o=[],s=0;return{POLL_RETRYS:200,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,OBJ:3,ADJ_SCOPE:4,isSafari:/KHTML/gi.test(navigator.userAgent),webkit:function(){var n=navigator.userAgent.match(/AppleWebKit\/([^ ]*)/);return n&&n[1]?n[1]:null}(),isIE:!this.webkit&&!navigator.userAgent.match(/opera/gi)&&navigator.userAgent.match(/msie/gi),_interval:null,startInterval:function(){if(!this._interval){var n=this,t=function(){n._tryPreloadAttach()};this._interval=setInterval(t,this.POLL_INTERVAL)}},onAvailable:function(n,t,i,f){u.push({id:n,fn:t,obj:i,override:f,checkReady:!1});r=this.POLL_RETRYS;this.startInterval()},onContentReady:function(n,t,i,f){u.push({id:n,fn:t,obj:i,override:f,checkReady:!0});r=this.POLL_RETRYS;this.startInterval()},addListener:function(r,u,e,s,h){var l,a,p,y,v,c;if(!e||!e.call)return!1;if(this._isValidCollection(r)){for(l=!0,a=0,p=r.length;a<p;++a)l=this.on(r[a],u,e,s,h)&&l;return l}if(typeof r=="string")if(y=this.getEl(r),y)r=y;else{this.onAvailable(r,function(){YAHOO.util.Event.on(r,u,e,s,h)});return!0}if(!r)return!1;if("unload"==u&&s!==this)return t[t.length]=[r,u,e,s,h],!0;v=r;h&&(v=h===!0?s:h);var w=function(n){return e.call(v,YAHOO.util.Event.getEvent(n),s)},b=[r,u,e,w,v],k=n.length;if(n[k]=b,this.useLegacyEvent(r,u))c=this.getLegacyIndex(r,u),(c==-1||r!=i[c][0])&&(c=i.length,o[r.id+u]=c,i[c]=[r,u,r["on"+u]],f[c]=[],r["on"+u]=function(n){YAHOO.util.Event.fireLegacyEvent(YAHOO.util.Event.getEvent(n),c)}),f[c].push(b);else try{this._simpleAdd(r,u,w,!1)}catch(d){return this.lastError=d,this.removeListener(r,u,e),!1}return!0},fireLegacyEvent:function(n,t){var o=!0,u,s,r,h,c,e,l;for(s=f[t],e=0,l=s.length;e<l;++e)r=s[e],r&&r[this.WFN]&&(h=r[this.ADJ_SCOPE],c=r[this.WFN].call(h,n),o=o&&c);return u=i[t],u&&u[2]&&u[2](n),o},getLegacyIndex:function(n,t){var i=this.generateId(n)+t;return typeof o[i]=="undefined"?-1:o[i]},useLegacyEvent:function(n,t){if(this.webkit&&("click"==t||"dblclick"==t)){var i=parseInt(this.webkit,10);if(!isNaN(i)&&i<418)return!0}return!1},removeListener:function(i,r,u){var e,h,l,o,a,s,v,c;if(typeof i=="string")i=this.getEl(i);else if(this._isValidCollection(i)){for(l=!0,e=0,h=i.length;e<h;++e)l=this.removeListener(i[e],r,u)&&l;return l}if(!u||!u.call)return this.purgeElement(i,!1,r);if("unload"==r){for(e=0,h=t.length;e<h;e++)if(o=t[e],o&&o[0]==i&&o[1]==r&&o[2]==u)return t.splice(e,1),!0;return!1}if(a=null,s=arguments[3],"undefined"==typeof s&&(s=this._getCacheIndex(i,r,u)),s>=0&&(a=n[s]),!i||!a)return!1;if(this.useLegacyEvent(i,r)){if(v=this.getLegacyIndex(i,r),c=f[v],c)for(e=0,h=c.length;e<h;++e)if(o=c[e],o&&o[this.EL]==i&&o[this.TYPE]==r&&o[this.FN]==u){c.splice(e,1);break}}else try{this._simpleRemove(i,r,a[this.WFN],!1)}catch(y){return this.lastError=y,!1}return delete n[s][this.WFN],delete n[s][this.FN],n.splice(s,1),!0},getTarget:function(n){var t=n.target||n.srcElement;return this.resolveTextNode(t)},resolveTextNode:function(n){return n&&3==n.nodeType?n.parentNode:n},getPageX:function(n){var t=n.pageX;return t||0===t||(t=n.clientX||0,this.isIE&&(t+=this._getScrollLeft())),t},getPageY:function(n){var t=n.pageY;return t||0===t||(t=n.clientY||0,this.isIE&&(t+=this._getScrollTop())),t},getXY:function(n){return[this.getPageX(n),this.getPageY(n)]},getRelatedTarget:function(n){var t=n.relatedTarget;return t||(n.type=="mouseout"?t=n.toElement:n.type=="mouseover"&&(t=n.fromElement)),this.resolveTextNode(t)},getTime:function(n){if(!n.time){var t=(new Date).getTime();try{n.time=t}catch(i){return this.lastError=i,t}}return n.time},stopEvent:function(n){this.stopPropagation(n);this.preventDefault(n)},stopPropagation:function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0},preventDefault:function(n){n.preventDefault?n.preventDefault():n.returnValue=!1},getEvent:function(n){var t=n||window.event,i;if(!t)for(i=this.getEvent.caller;i;){if(t=i.arguments[0],t&&Event==t.constructor)break;i=i.caller}return t},getCharCode:function(n){return n.charCode||n.keyCode||0},_getCacheIndex:function(t,i,r){for(var f,u=0,e=n.length;u<e;++u)if(f=n[u],f&&f[this.FN]==r&&f[this.EL]==t&&f[this.TYPE]==i)return u;return-1},generateId:function(n){var t=n.id;return t||(t="yuievtautoid-"+s,++s,n.id=t),t},_isValidCollection:function(n){return n&&n.length&&typeof n!="string"&&!n.tagName&&!n.alert&&typeof n[0]!="undefined"},elCache:{},getEl:function(n){return document.getElementById(n)},clearCache:function(){},_load:function(){e=!0;var n=YAHOO.util.Event;this.isIE&&n._simpleRemove(window,"load",n._load)},_tryPreloadAttach:function(){var i,o,t,h,n,f,s;if(this.locked)return!1;for(this.locked=!0,i=!e,i||(i=r>0),o=[],t=0,h=u.length;t<h;++t)n=u[t],n&&(f=this.getEl(n.id),f?(!n.checkReady||e||f.nextSibling||document&&document.body)&&(s=f,n.override&&(s=n.override===!0?n.obj:n.override),n.fn.call(s,n.obj),u[t]=null):o.push(n));return r=o.length===0?0:r-1,i?this.startInterval():(clearInterval(this._interval),this._interval=null),this.locked=!1,!0},purgeElement:function(n,t,i){var f=this.getListeners(n,i),r,u,e;if(f)for(r=0,u=f.length;r<u;++r)e=f[r],this.removeListener(n,e.type,e.fn);if(t&&n&&n.childNodes)for(r=0,u=n.childNodes.length;r<u;++r)this.purgeElement(n.childNodes[r],t,i)},getListeners:function(i,r){for(var s=[],f,e,c,u,h=r?r=="unload"?[t]:[n]:[n,t],o=0;o<h.length;++o)if(f=h[o],f&&f.length>0)for(e=0,c=f.length;e<c;++e)u=f[e],u&&u[this.EL]===i&&(!r||r===u[this.TYPE])&&s.push({type:u[this.TYPE],fn:u[this.FN],obj:u[this.OBJ],adjust:u[this.ADJ_SCOPE],index:e});return s.length?s:null},_unload:function(r){for(var f=YAHOO.util.Event,o,u,c,h,e=0,s=t.length;e<s;++e)u=t[e],u&&(h=window,u[f.ADJ_SCOPE]&&(h=u[f.ADJ_SCOPE]===!0?u[f.OBJ]:u[f.ADJ_SCOPE]),u[f.FN].call(h,f.getEvent(r),u[f.OBJ]),t[e]=null,u=null,h=null);if(t=null,n&&n.length>0){for(o=n.length;o;)c=o-1,u=n[c],u&&f.removeListener(u[f.EL],u[f.TYPE],u[f.FN],c),o=o-1;u=null;f.clearCache()}for(e=0,s=i.length;e<s;++e)i[e][0]=null,i[e]=null;i=null;f._simpleRemove(window,"unload",f._unload)},_getScrollLeft:function(){return this._getScroll()[1]},_getScrollTop:function(){return this._getScroll()[0]},_getScroll:function(){var n=document.documentElement,t=document.body;return n&&(n.scrollTop||n.scrollLeft)?[n.scrollTop,n.scrollLeft]:t?[t.scrollTop,t.scrollLeft]:[0,0]},regCE:function(){},_simpleAdd:function(){return window.addEventListener?function(n,t,i,r){n.addEventListener(t,i,r)}:window.attachEvent?function(n,t,i){n.attachEvent("on"+t,i)}:function(){}}(),_simpleRemove:function(){return window.removeEventListener?function(n,t,i,r){n.removeEventListener(t,i,r)}:window.detachEvent?function(n,t,i){n.detachEvent("on"+t,i)}:function(){}}()}}(),function(){var n=YAHOO.util.Event;n.on=n.addListener;document&&document.body?n._load():n._simpleAdd(window,"load",n._load);n._simpleAdd(window,"unload",n._unload);n._tryPreloadAttach()}());YAHOO.util.CustomEvent=function(n,t,i,r){this.type=n;this.scope=t||window;this.silent=i;this.signature=r||YAHOO.util.CustomEvent.LIST;this.subscribers=[];!this.silent;var u="_YUICEOnSubscribe";n!==u&&(this.subscribeEvent=new YAHOO.util.CustomEvent(u,this,!0))};YAHOO.util.CustomEvent.LIST=0;YAHOO.util.CustomEvent.FLAT=1;YAHOO.util.CustomEvent.prototype={subscribe:function(n,t,i){this.subscribeEvent&&this.subscribeEvent.fire(n,t,i);this.subscribers.push(new YAHOO.util.Subscriber(n,t,i))},unsubscribe:function(n,t){var r,i,f,u;if(!n)return this.unsubscribeAll();for(r=!1,i=0,f=this.subscribers.length;i<f;++i)u=this.subscribers[i],u&&u.contains(n,t)&&(this._delete(i),r=!0);return r},fire:function(){var e=this.subscribers.length,i,r,n,o,t,u,f;if(!e&&this.silent)return!0;for(i=[],r=!0,n=0;n<arguments.length;++n)i.push(arguments[n]);for(o=i.length,!this.silent,n=0;n<e;++n)if(t=this.subscribers[n],t&&(!this.silent,u=t.getScope(this.scope),this.signature==YAHOO.util.CustomEvent.FLAT?(f=null,i.length>0&&(f=i[0]),r=t.fn.call(u,f,t.obj)):r=t.fn.call(u,this.type,i,t.obj),!1===r))return!this.silent,!1;return!0},unsubscribeAll:function(){for(var n=0,t=this.subscribers.length;n<t;++n)this._delete(t-1-n);return n},_delete:function(n){var t=this.subscribers[n];t&&(delete t.fn,delete t.obj);this.subscribers.splice(n,1)},toString:function(){return"CustomEvent: '"+this.type+"', scope: "+this.scope}};YAHOO.util.Subscriber=function(n,t,i){this.fn=n;this.obj=t||null;this.override=i};YAHOO.util.Subscriber.prototype.getScope=function(n){return this.override?this.override===!0?this.obj:this.override:n};YAHOO.util.Subscriber.prototype.contains=function(n,t){return t?this.fn==n&&this.obj==t:this.fn==n};YAHOO.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+(this.obj||"")+", override: "+(this.override||"no")+" }"};YAHOO.util.EventProvider=function(){};YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(n,t,i,r){var f,u;this.__yui_events=this.__yui_events||{};f=this.__yui_events[n];f?f.subscribe(t,i,r):(this.__yui_subscribers=this.__yui_subscribers||{},u=this.__yui_subscribers,u[n]||(u[n]=[]),u[n].push({fn:t,obj:i,override:r}))},unsubscribe:function(n,t,i){this.__yui_events=this.__yui_events||{};var r=this.__yui_events[n];return r?r.unsubscribe(t,i):!1},unsubscribeAll:function(n){return this.unsubscribe(n)},createEvent:function(n,t){var u,f,i,r;if(this.__yui_events=this.__yui_events||{},u=t||{},f=this.__yui_events,!f[n]){var o=u.scope||this,s=u.silent||null,e=new YAHOO.util.CustomEvent(n,o,s,YAHOO.util.CustomEvent.FLAT);if(f[n]=e,u.onSubscribeCallback&&e.subscribeEvent.subscribe(u.onSubscribeCallback),this.__yui_subscribers=this.__yui_subscribers||{},i=this.__yui_subscribers[n],i)for(r=0;r<i.length;++r)e.subscribe(i[r].fn,i[r].obj,i[r].override)}return f[n]},fireEvent:function(n){var t,r,i;if(this.__yui_events=this.__yui_events||{},t=this.__yui_events[n],t){for(r=[],i=1;i<arguments.length;++i)r.push(arguments[i]);return t.fire.apply(t,r)}return null},hasEvent:function(n){return this.__yui_events&&this.__yui_events[n]?!0:!1}};YAHOO.util.KeyListener=function(n,t,i,r){function f(n){var i,r;if(t.shift||(t.shift=!1),t.alt||(t.alt=!1),t.ctrl||(t.ctrl=!1),n.shiftKey==t.shift&&n.altKey==t.alt&&n.ctrlKey==t.ctrl)if(t.keys instanceof Array){for(r=0;r<t.keys.length;r++)if(i=t.keys[r],i==n.charCode){u.fire(n.charCode,n);break}else if(i==n.keyCode){u.fire(n.keyCode,n);break}}else i=t.keys,i==n.charCode?u.fire(n.charCode,n):i==n.keyCode&&u.fire(n.keyCode,n)}n&&t&&!i;r||(r=YAHOO.util.KeyListener.KEYDOWN);var u=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=new YAHOO.util.CustomEvent("enabled");this.disabledEvent=new YAHOO.util.CustomEvent("disabled");typeof n=="string"&&(n=document.getElementById(n));typeof i=="function"?u.subscribe(i):u.subscribe(i.fn,i.scope,i.correctScope);this.enable=function(){this.enabled||(YAHOO.util.Event.addListener(n,r,f),this.enabledEvent.fire(t));this.enabled=!0};this.disable=function(){this.enabled&&(YAHOO.util.Event.removeListener(n,r,f),this.disabledEvent.fire(t));this.enabled=!1};this.toString=function(){return"KeyListener ["+t.keys+"] "+n.tagName+(n.id?"["+n.id+"]":"")}};YAHOO.util.KeyListener.KEYDOWN="keydown";YAHOO.util.KeyListener.KEYUP="keyup";YAHOO.register("event",YAHOO.util.Event,{version:"2.2.0",build:"127"})