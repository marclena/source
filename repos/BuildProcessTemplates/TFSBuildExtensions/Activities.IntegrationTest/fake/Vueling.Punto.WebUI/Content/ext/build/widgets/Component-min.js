Ext.Component=function(n){if(n=n||{},n.initialConfig?(n.isAction&&(this.baseAction=n),n=n.initialConfig):(n.tagName||n.dom||typeof n=="string")&&(n={applyTo:n,id:n.id||n}),this.initialConfig=n,Ext.apply(this,n),this.addEvents("disable","enable","beforeshow","show","beforehide","hide","beforerender","render","beforedestroy","destroy","beforestaterestore","staterestore","beforestatesave","statesave"),this.getId(),Ext.ComponentMgr.register(this),Ext.Component.superclass.constructor.call(this),this.baseAction&&this.baseAction.addComponent(this),this.initComponent(),this.plugins)if(this.plugins instanceof Array)for(var t=0,i=this.plugins.length;t<i;t++)this.plugins[t].init(this);else this.plugins.init(this);this.stateful!==!1&&this.initState(n);this.applyTo?(this.applyToMarkup(this.applyTo),delete this.applyTo):this.renderTo&&(this.render(this.renderTo),delete this.renderTo)};Ext.Component.AUTO_ID=1e3;Ext.extend(Ext.Component,Ext.util.Observable,{disabledClass:"x-item-disabled",allowDomMove:!0,autoShow:!1,hideMode:"display",hideParent:!1,hidden:!1,disabled:!1,rendered:!1,ctype:"Ext.Component",actionMode:"el",getActionEl:function(){return this[this.actionMode]},initComponent:Ext.emptyFn,render:function(n,t){if(!this.rendered&&this.fireEvent("beforerender",this)!==!1){!n&&this.el&&(this.el=Ext.get(this.el),n=this.el.dom.parentNode,this.allowDomMove=!1);this.container=Ext.get(n);this.ctCls&&this.container.addClass(this.ctCls);this.rendered=!0;t!==undefined&&(t=typeof t=="number"?this.container.dom.childNodes[t]:Ext.getDom(t));this.onRender(this.container,t||null);this.autoShow&&this.el.removeClass(["x-hidden","x-hide-"+this.hideMode]);this.cls&&(this.el.addClass(this.cls),delete this.cls);this.style&&(this.el.applyStyles(this.style),delete this.style);this.fireEvent("render",this);this.afterRender(this.container);this.hidden&&this.hide();this.disabled&&this.disable();this.initStateEvents()}return this},initState:function(){if(Ext.state.Manager){var n=Ext.state.Manager.get(this.stateId||this.id);n&&this.fireEvent("beforestaterestore",this,n)!==!1&&(this.applyState(n),this.fireEvent("staterestore",this,n))}},initStateEvents:function(){if(this.stateEvents)for(var n=0,t;t=this.stateEvents[n];n++)this.on(t,this.saveState,this,{delay:100})},applyState:function(n){n&&Ext.apply(this,n)},getState:function(){return null},saveState:function(){if(Ext.state.Manager){var n=this.getState();this.fireEvent("beforestatesave",this,n)!==!1&&(Ext.state.Manager.set(this.stateId||this.id,n),this.fireEvent("statesave",this,n))}},applyToMarkup:function(n){this.allowDomMove=!1;this.el=Ext.get(n);this.render(this.el.dom.parentNode)},addClass:function(n){this.el?this.el.addClass(n):this.cls=this.cls?this.cls+" "+n:n},removeClass:function(n){this.el?this.el.removeClass(n):this.cls&&(this.cls=this.cls.split(" ").remove(n).join(" "))},onRender:function(n,t){if(this.autoEl)if(typeof this.autoEl=="string")this.el=document.createElement(this.autoEl);else{var i=document.createElement("div");Ext.DomHelper.overwrite(i,this.autoEl);this.el=i.firstChild}this.el&&(this.el=Ext.get(this.el),this.allowDomMove!==!1&&n.dom.insertBefore(this.el.dom,t))},getAutoCreate:function(){var n=typeof this.autoCreate=="object"?this.autoCreate:Ext.apply({},this.defaultAutoCreate);return this.id&&!n.id&&(n.id=this.id),n},afterRender:Ext.emptyFn,destroy:function(){this.fireEvent("beforedestroy",this)!==!1&&(this.beforeDestroy(),this.rendered&&(this.el.removeAllListeners(),this.el.remove(),this.actionMode=="container"&&this.container.remove()),this.onDestroy(),Ext.ComponentMgr.unregister(this),this.fireEvent("destroy",this),this.purgeListeners())},beforeDestroy:Ext.emptyFn,onDestroy:Ext.emptyFn,getEl:function(){return this.el},getId:function(){return this.id||(this.id="ext-comp-"+ ++Ext.Component.AUTO_ID)},getItemId:function(){return this.itemId||this.getId()},focus:function(n,t){if(t){this.focus.defer(typeof t=="number"?t:10,this,[n,!1]);return}return this.rendered&&(this.el.focus(),n===!0&&this.el.dom.select()),this},blur:function(){return this.rendered&&this.el.blur(),this},disable:function(){return this.rendered&&this.onDisable(),this.disabled=!0,this.fireEvent("disable",this),this},onDisable:function(){this.getActionEl().addClass(this.disabledClass);this.el.dom.disabled=!0},enable:function(){return this.rendered&&this.onEnable(),this.disabled=!1,this.fireEvent("enable",this),this},onEnable:function(){this.getActionEl().removeClass(this.disabledClass);this.el.dom.disabled=!1},setDisabled:function(n){this[n?"disable":"enable"]()},show:function(){return this.fireEvent("beforeshow",this)!==!1&&(this.hidden=!1,this.autoRender&&this.render(typeof this.autoRender=="boolean"?Ext.getBody():this.autoRender),this.rendered&&this.onShow(),this.fireEvent("show",this)),this},onShow:function(){this.hideParent?this.container.removeClass("x-hide-"+this.hideMode):this.getActionEl().removeClass("x-hide-"+this.hideMode)},hide:function(){return this.fireEvent("beforehide",this)!==!1&&(this.hidden=!0,this.rendered&&this.onHide(),this.fireEvent("hide",this)),this},onHide:function(){this.hideParent?this.container.addClass("x-hide-"+this.hideMode):this.getActionEl().addClass("x-hide-"+this.hideMode)},setVisible:function(n){return n?this.show():this.hide(),this},isVisible:function(){return this.rendered&&this.getActionEl().isVisible()},cloneConfig:function(n){n=n||{};var i=n.id||Ext.id(),t=Ext.applyIf(n,this.initialConfig);return t.id=i,new this.constructor(t)},getXType:function(){return this.constructor.xtype},isXType:function(n,t){return t?this.constructor.xtype==n:("/"+this.getXTypes()+"/").indexOf("/"+n+"/")!=-1},getXTypes:function(){var t=this.constructor,i,n;if(!t.xtypes){for(i=[],n=this;n&&n.constructor.xtype;)i.unshift(n.constructor.xtype),n=n.constructor.superclass;t.xtypeChain=i;t.xtypes=i.join("/")}return t.xtypes}});Ext.reg("component",Ext.Component)