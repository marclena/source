Ext.dd.StatusProxy=function(n){Ext.apply(this,n);this.id=this.id||Ext.id();this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:"x-dd-drag-proxy "+this.dropNotAllowed,children:[{tag:"div",cls:"x-dd-drop-icon"},{tag:"div",cls:"x-dd-drag-ghost"}]},shadow:!n||n.shadow!==!1});this.ghost=Ext.get(this.el.dom.childNodes[1]);this.dropStatus=this.dropNotAllowed};Ext.dd.StatusProxy.prototype={dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(n){n=n||this.dropNotAllowed;this.dropStatus!=n&&(this.el.replaceClass(this.dropStatus,n),this.dropStatus=n)},reset:function(n){this.el.dom.className="x-dd-drag-proxy "+this.dropNotAllowed;this.dropStatus=this.dropNotAllowed;n&&this.ghost.update("")},update:function(n){typeof n=="string"?this.ghost.update(n):(this.ghost.update(""),n.style.margin="0",this.ghost.dom.appendChild(n))},getEl:function(){return this.el},getGhost:function(){return this.ghost},hide:function(n){this.el.hide();n&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},show:function(){this.el.show()},sync:function(){this.el.sync()},repair:function(n,t,i){this.callback=t;this.scope=i;n&&this.animRepair!==!1?(this.el.addClass("x-dd-drag-repair"),this.el.hideUnders(!0),this.anim=this.el.shift({duration:this.repairDuration||.5,easing:"easeOut",xy:n,stopFx:!0,callback:this.afterRepair,scope:this})):this.afterRepair()},afterRepair:function(){this.hide(!0);typeof this.callback=="function"&&this.callback.call(this.scope||this);this.callback=null;this.scope=null}}