function tableToGrid(n,t){jQuery(n).each(function(){var n,i;if(!this.grid){jQuery(this).width("99%");var a=jQuery(this).width(),h=jQuery("input[type=checkbox]:first",jQuery(this)),c=jQuery("input[type=radio]:first",jQuery(this)),f=h.length>0,v=!f&&c.length>0,l=f||v,y=h.attr("name")||c.attr("name"),r=[],e=[];jQuery("th",jQuery(this)).each(function(){r.length===0&&l?(r.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),e.push("__selection__")):(r.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150}),e.push(jQuery(this).html()))});var u=[],o=[],s=[];for(jQuery("tbody > tr",jQuery(this)).each(function(){var t={},n=0;jQuery("td",jQuery(this)).each(function(){if(n===0&&l){var i=jQuery("input",jQuery(this)),f=i.attr("value");o.push(f||u.length);i.attr("checked")&&s.push(f);t[r[n].name]=i.attr("value")}else t[r[n].name]=jQuery(this).html();n++});n>0&&u.push(t)}),jQuery(this).empty(),jQuery(this).addClass("scroll"),jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:a,colNames:e,colModel:r,multiselect:f},t||{})),n=0;n<u.length;n++)i=null,o.length>0&&(i=o[n],i&&i.replace&&(i=encodeURIComponent(i).replace(/[.\-%]/g,"_"))),i===null&&(i=n+1),jQuery(this).jqGrid("addRowData",i,u[n]);for(n=0;n<s.length;n++)jQuery(this).jqGrid("setSelection",s[n])}})}