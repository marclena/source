function DatetimeToString(n){var i,t;if(n==null)return"";i=GetMS(n);t=new Date;t.setTime(i);var r=t.getDate()<10?"0"+t.getDate():t.getDate(),u=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,f=t.getFullYear();return r+"/"+u+"/"+f}function GetMS(n){return n.slice(6,n.length-2)}function MakeLink(n,t){if(t||(t=n),t&&n){var i=baseUrl.url()+"BuyPoints/ManagementOfTrackingData?customerNumber="+n;return'<a href="'+i+'">'+t+"<\/a>"}return t}function SetDetailOfTransaction(n){n&&($("#pnrDetail").html(n.PNR),$("#encryptedPnr").html(n.EncryptedPNR),$("#transactionDate").html(DatetimeToString(n.TransactionDate)),$("#pointsAllocatedDate").html(DatetimeToString(n.PointsAllocatedDate)),$("#buyerEmail").html(MakeLink(n.BuyerCustomerNumber,n.BuyerEmail)),$("#buyerCustomerNumber").html(MakeLink(n.BuyerCustomerNumber)),$("#receiverEmail").html(MakeLink(n.ReceiverCustomerNumber,n.ReceiverEmail)),$("#receiverCustomerNumber").html(MakeLink(n.ReceiverCustomerNumber)),$("#redeemerEmail").html(MakeLink(n.RedeemerCustomerNumber,n.RedeemerEmail)),$("#redeemerCustomerNumber").html(MakeLink(n.RedeemerCustomerNumber)),$("#promotionCodeSpan").html(n.PromotionCode),$("#promotionalCodeExpirationDate").html(DatetimeToString(n.PromotionalCodeExpirationDate)),$("#claimedOn").html(DatetimeToString(n.ClaimedOn)),n.PromotionCode&&n.PromotionCode!=""?($("#rpuDetails").show(),$("#receiverEmailLabel").html("Email del destinatario:"),$("#receiverCustomerNumberLabel").html("FFID del destinatario:")):($("#rpuDetails").hide(),$("#receiverEmailLabel").html("Email del beneficiario:"),$("#receiverCustomerNumberLabel").html("FFID del beneficiario:")))}function replaceDate(n){return n=n.replace("/","-"),n.replace("/","-")}var BaseUrl=function(){this.projectName="Vueling.Punto.WebUI";this.baseUrl=""},baseUrl;BaseUrl.prototype.url=function(){if(this.baseUrl===""){var n=window.location.href.toLowerCase();console.log("currentUrl:"+n);this.baseUrl=n.split(this.projectName.toLowerCase()).length>1?"/"+this.projectName+"/":"/";console.log("baseUrl:"+this.baseUrl)}return this.baseUrl};baseUrl=new BaseUrl