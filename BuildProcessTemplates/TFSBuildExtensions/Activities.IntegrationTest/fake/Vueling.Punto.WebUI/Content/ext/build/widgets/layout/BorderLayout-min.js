Ext.layout.BorderLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:!0,rendered:!1,onLayout:function(n,t){var e,k,u,o,h,g,r,s,i,it,f,w;if(!this.rendered){for(t.position(),t.addClass("x-border-layout-ct"),k=n.items.items,e=[],f=0,w=k.length;f<w;f++)u=k[f],o=u.region,u.collapsed&&e.push(u),u.collapsed=!1,u.rendered||(u.cls=u.cls?u.cls+" x-border-panel":"x-border-panel",u.render(t,f)),this[o]=o!="center"&&u.split?new Ext.layout.BorderLayout.SplitRegion(this,u.initialConfig,o):new Ext.layout.BorderLayout.Region(this,u.initialConfig,o),this[o].render(t,u);this.rendered=!0}if(h=t.getViewSize(),h.width<20||h.height<20){e&&(this.restoreCollapsed=e);return}this.restoreCollapsed&&(e=this.restoreCollapsed,delete this.restoreCollapsed);var b=h.width,nt=h.height,d=b,c=nt,l=0,tt=0,a=this.north,v=this.south,y=this.west,p=this.east,u=this.center;if(!u)throw"No center region defined in BorderLayout "+n.id;if(a&&a.isVisible()&&(r=a.getSize(),i=a.getMargins(),r.width=b-(i.left+i.right),r.x=i.left,r.y=i.top,l=r.height+r.y+i.bottom,c-=l,a.applyLayout(r)),v&&v.isVisible()&&(r=v.getSize(),i=v.getMargins(),r.width=b-(i.left+i.right),r.x=i.left,g=r.height+i.top+i.bottom,r.y=nt-g+i.top,c-=g,v.applyLayout(r)),y&&y.isVisible()&&(r=y.getSize(),i=y.getMargins(),r.height=c-(i.top+i.bottom),r.x=i.left,r.y=l+i.top,s=r.width+i.left+i.right,tt+=s,d-=s,y.applyLayout(r)),p&&p.isVisible()&&(r=p.getSize(),i=p.getMargins(),r.height=c-(i.top+i.bottom),s=r.width+i.left+i.right,r.x=b-s+i.left,r.y=l+i.top,d-=s,p.applyLayout(r)),i=u.getMargins(),it={x:tt+i.left,y:l+i.top,width:d-(i.left+i.right),height:c-(i.top+i.bottom)},u.applyLayout(it),e)for(f=0,w=e.length;f<w;f++)e[f].collapse(!1);Ext.isIE&&Ext.isStrict&&t.repaint()}});Ext.layout.BorderLayout.Region=function(n,t,i){Ext.apply(this,t);this.layout=n;this.position=i;this.state={};typeof this.margins=="string"&&(this.margins=this.layout.parseMargins(this.margins));this.margins=Ext.applyIf(this.margins||{},this.defaultMargins);this.collapsible&&(typeof this.cmargins=="string"&&(this.cmargins=this.layout.parseMargins(this.cmargins)),this.cmargins=this.collapseMode!="mini"||this.cmargins?Ext.applyIf(this.cmargins||{},i=="north"||i=="south"?this.defaultNSCMargins:this.defaultEWCMargins):{left:0,top:0,right:0,bottom:0})};Ext.layout.BorderLayout.Region.prototype={collapsible:!1,split:!1,floatable:!0,minWidth:50,minHeight:50,defaultMargins:{left:0,top:0,right:0,bottom:0},defaultNSCMargins:{left:5,top:5,right:5,bottom:5},defaultEWCMargins:{left:5,top:0,right:5,bottom:0},isCollapsed:!1,render:function(n,t){this.panel=t;t.el.enableDisplayMode();this.targetEl=n;this.el=t.el;var r=t.getState,i=this.position;if(t.getState=function(){return Ext.apply(r.call(t)||{},this.state)}.createDelegate(this),i!="center"){t.allowQueuedExpand=!1;t.on({beforecollapse:this.beforeCollapse,collapse:this.onCollapse,beforeexpand:this.beforeExpand,expand:this.onExpand,hide:this.onHide,show:this.onShow,scope:this});this.collapsible&&(t.collapseEl="el",t.slideAnchor=this.getSlideAnchor());t.tools&&t.tools.toggle&&(t.tools.toggle.addClass("x-tool-collapse-"+i),t.tools.toggle.addClassOnOver("x-tool-collapse-"+i+"-over"))}},getCollapsedEl:function(){var n,t;if(!this.collapsedEl)if(this.toolTemplate||(n=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;<\/div>'),n.disableFormats=!0,n.compile(),Ext.layout.BorderLayout.Region.prototype.toolTemplate=n),this.collapsedEl=this.targetEl.createChild({cls:"x-layout-collapsed x-layout-collapsed-"+this.position}),this.collapsedEl.enableDisplayMode("block"),this.collapseMode=="mini"){this.collapsedEl.addClass("x-layout-cmini-"+this.position);this.miniCollapsedEl=this.collapsedEl.createChild({cls:"x-layout-mini x-layout-mini-"+this.position,html:"&#160;"});this.miniCollapsedEl.addClassOnOver("x-layout-mini-over");this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this.onExpandClick,this,{stopEvent:!0})}else{t=this.toolTemplate.append(this.collapsedEl.dom,{id:"expand-"+this.position},!0);t.addClassOnOver("x-tool-expand-"+this.position+"-over");t.on("click",this.onExpandClick,this,{stopEvent:!0});if(this.floatable!==!1){this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this.collapseClick,this)}}return this.collapsedEl},onExpandClick:function(){this.isSlid?(this.afterSlideIn(),this.panel.expand(!1)):this.panel.expand()},onCollapseClick:function(){this.panel.collapse()},beforeCollapse:function(n,t){this.lastAnim=t;this.splitEl&&this.splitEl.hide();this.getCollapsedEl().show();this.panel.el.setStyle("z-index",100);this.isCollapsed=!0;this.layout.layout()},onCollapse:function(){this.panel.el.setStyle("z-index",1);this.lastAnim===!1||this.panel.animCollapse===!1?this.getCollapsedEl().dom.style.visibility="visible":this.getCollapsedEl().slideIn(this.panel.slideAnchor,{duration:.2});this.state.collapsed=!0;this.panel.saveState()},beforeExpand:function(){var n=this.getCollapsedEl();this.el.show();this.position=="east"||this.position=="west"?this.panel.setSize(undefined,n.getHeight()):this.panel.setSize(n.getWidth(),undefined);n.hide();n.dom.style.visibility="hidden";this.panel.el.setStyle("z-index",100)},onExpand:function(){this.isCollapsed=!1;this.splitEl&&this.splitEl.show();this.layout.layout();this.panel.el.setStyle("z-index",1);this.state.collapsed=!1;this.panel.saveState()},collapseClick:function(n){this.isSlid?(n.stopPropagation(),this.slideIn()):(n.stopPropagation(),this.slideOut())},onHide:function(){this.isCollapsed?this.getCollapsedEl().hide():this.splitEl&&this.splitEl.hide()},onShow:function(){this.isCollapsed?this.getCollapsedEl().show():this.splitEl&&this.splitEl.show()},isVisible:function(){return!this.panel.hidden},getMargins:function(){return this.isCollapsed&&this.cmargins?this.cmargins:this.margins},getSize:function(){return this.isCollapsed?this.getCollapsedEl().getSize():this.panel.getSize()},setPanel:function(n){this.panel=n},getMinWidth:function(){return this.minWidth},getMinHeight:function(){return this.minHeight},applyLayoutCollapsed:function(n){var t=this.getCollapsedEl();t.setLeftTop(n.x,n.y);t.setSize(n.width,n.height)},applyLayout:function(n){this.isCollapsed?this.applyLayoutCollapsed(n):(this.panel.setPosition(n.x,n.y),this.panel.setSize(n.width,n.height))},beforeSlide:function(){this.panel.beforeEffect()},afterSlide:function(){this.panel.afterEffect()},initAutoHide:function(){if(this.autoHide!==!1){if(!this.autoHideHd){var n=new Ext.util.DelayedTask(this.slideIn,this);this.autoHideHd={mouseout:function(t){t.within(this.el,!0)||n.delay(500)},mouseover:function(){n.cancel()},scope:this}}this.el.on(this.autoHideHd)}},clearAutoHide:function(){this.autoHide!==!1&&(this.el.un("mouseout",this.autoHideHd.mouseout),this.el.un("mouseover",this.autoHideHd.mouseover))},clearMonitor:function(){Ext.getDoc().un("click",this.slideInIf,this)},slideOut:function(){if(!this.isSlid&&!this.el.hasActiveFx()){this.isSlid=!0;var n=this.panel.tools;if(n&&n.toggle&&n.toggle.hide(),this.el.show(),this.position=="east"||this.position=="west"?this.panel.setSize(undefined,this.collapsedEl.getHeight()):this.panel.setSize(this.collapsedEl.getWidth(),undefined),this.restoreLT=[this.el.dom.style.left,this.el.dom.style.top],this.el.alignTo(this.collapsedEl,this.getCollapseAnchor()),this.el.setStyle("z-index",102),this.animFloat!==!1)this.beforeSlide(),this.el.slideIn(this.getSlideAnchor(),{callback:function(){this.afterSlide();this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this)},scope:this,block:!0});else{this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this)}}},afterSlideIn:function(){this.clearAutoHide();this.isSlid=!1;this.clearMonitor();this.el.setStyle("z-index","");this.el.dom.style.left=this.restoreLT[0];this.el.dom.style.top=this.restoreLT[1];var n=this.panel.tools;n&&n.toggle&&n.toggle.show()},slideIn:function(n){if(!this.isSlid||this.el.hasActiveFx()){Ext.callback(n);return}this.isSlid=!1;this.animFloat!==!1?(this.beforeSlide(),this.el.slideOut(this.getSlideAnchor(),{callback:function(){this.el.hide();this.afterSlide();this.afterSlideIn();Ext.callback(n)},scope:this,block:!0})):(this.el.hide(),this.afterSlideIn())},slideInIf:function(n){n.within(this.el)||this.slideIn()},anchors:{west:"left",east:"right",north:"top",south:"bottom"},sanchors:{west:"l",east:"r",north:"t",south:"b"},canchors:{west:"tl-tr",east:"tr-tl",north:"tl-bl",south:"bl-tl"},getAnchor:function(){return this.anchors[this.position]},getCollapseAnchor:function(){return this.canchors[this.position]},getSlideAnchor:function(){return this.sanchors[this.position]},getAlignAdj:function(){var n=this.cmargins;switch(this.position){case"west":return[0,0];case"east":return[0,0];case"north":return[0,0];case"south":return[0,0]}},getExpandAdj:function(){var t=this.collapsedEl,n=this.cmargins;switch(this.position){case"west":return[-(n.right+t.getWidth()+n.left),0];case"east":return[n.right+t.getWidth()+n.left,0];case"north":return[0,-(n.top+n.bottom+t.getHeight())];case"south":return[0,n.top+n.bottom+t.getHeight()]}}};Ext.layout.BorderLayout.SplitRegion=function(n,t,i){Ext.layout.BorderLayout.SplitRegion.superclass.constructor.call(this,n,t,i);this.applyLayout=this.applyFns[i]};Ext.extend(Ext.layout.BorderLayout.SplitRegion,Ext.layout.BorderLayout.Region,{splitTip:"Drag to resize.",collapsibleSplitTip:"Drag to resize. Double click to hide.",useSplitTips:!1,splitSettings:{north:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.TOP,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},south:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.BOTTOM,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},east:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.RIGHT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"},west:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.LEFT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"}},applyFns:{west:function(n){var i,t,r;if(this.isCollapsed)return this.applyLayoutCollapsed(n);i=this.splitEl.dom;t=i.style;this.panel.setPosition(n.x,n.y);r=i.offsetWidth;t.left=n.x+n.width-r+"px";t.top=n.y+"px";t.height=Math.max(0,n.height)+"px";this.panel.setSize(n.width-r,n.height)},east:function(n){if(this.isCollapsed)return this.applyLayoutCollapsed(n);var i=this.splitEl.dom,t=i.style,r=i.offsetWidth;this.panel.setPosition(n.x+r,n.y);t.left=n.x+"px";t.top=n.y+"px";t.height=Math.max(0,n.height)+"px";this.panel.setSize(n.width-r,n.height)},north:function(n){if(this.isCollapsed)return this.applyLayoutCollapsed(n);var i=this.splitEl.dom,t=i.style,r=i.offsetHeight;this.panel.setPosition(n.x,n.y);t.left=n.x+"px";t.top=n.y+n.height-r+"px";t.width=Math.max(0,n.width)+"px";this.panel.setSize(n.width,n.height-r)},south:function(n){if(this.isCollapsed)return this.applyLayoutCollapsed(n);var i=this.splitEl.dom,t=i.style,r=i.offsetHeight;this.panel.setPosition(n.x,n.y+r);t.left=n.x+"px";t.top=n.y+"px";t.width=Math.max(0,n.width)+"px";this.panel.setSize(n.width,n.height-r)}},render:function(n,t){var r,i;if(Ext.layout.BorderLayout.SplitRegion.superclass.render.call(this,n,t),r=this.position,this.splitEl=n.createChild({cls:"x-layout-split x-layout-split-"+r,html:"&#160;"}),this.collapseMode=="mini"){this.miniSplitEl=this.splitEl.createChild({cls:"x-layout-mini x-layout-mini-"+r,html:"&#160;"});this.miniSplitEl.addClassOnOver("x-layout-mini-over");this.miniSplitEl.on("click",this.onCollapseClick,this,{stopEvent:!0})}i=this.splitSettings[r];this.split=new Ext.SplitBar(this.splitEl.dom,t.el,i.orientation);this.split.placement=i.placement;this.split.getMaximumSize=this[i.maxFn].createDelegate(this);this.split.minSize=this.minSize||this[i.minProp];this.split.on("beforeapply",this.onSplitMove,this);if(this.split.useShim=this.useShim===!0,this.maxSize=this.maxSize||this[i.maxProp],t.hidden&&this.splitEl.hide(),this.useSplitTips&&(this.splitEl.dom.title=this.collapsible?this.collapsibleSplitTip:this.splitTip),this.collapsible)this.splitEl.on("dblclick",this.onCollapseClick,this)},getSize:function(){if(this.isCollapsed)return this.collapsedEl.getSize();var n=this.panel.getSize();return this.position=="north"||this.position=="south"?n.height+=this.splitEl.dom.offsetHeight:n.width+=this.splitEl.dom.offsetWidth,n},getHMaxSize:function(){var t=this.maxSize||1e4,n=this.layout.center;return Math.min(t,this.el.getWidth()+n.el.getWidth()-n.getMinWidth())},getVMaxSize:function(){var t=this.maxSize||1e4,n=this.layout.center;return Math.min(t,this.el.getHeight()+n.el.getHeight()-n.getMinHeight())},onSplitMove:function(n,t){var i=this.panel.getSize();return this.lastSplitSize=t,this.position=="north"||this.position=="south"?(this.panel.setSize(i.width,t),this.state.height=t):(this.panel.setSize(t,i.height),this.state.width=t),this.layout.layout(),this.panel.saveState(),!1},getSplitBar:function(){return this.split}});Ext.Container.LAYOUTS.border=Ext.layout.BorderLayout