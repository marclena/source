Ext.form.TextArea=Ext.extend(Ext.form.TextField,{growMin:60,growMax:1e3,growAppend:"&#160;\n&#160;",growPad:0,enterIsSpecial:!1,preventScrollbars:!1,onRender:function(n,t){this.el||(this.defaultAutoCreate={tag:"textarea",style:"width:100px;height:60px;",autocomplete:"off"});Ext.form.TextArea.superclass.onRender.call(this,n,t);this.grow&&(this.textSizeEl=Ext.DomHelper.append(document.body,{tag:"pre",cls:"x-form-grow-sizer"}),this.preventScrollbars&&this.el.setStyle("overflow","hidden"),this.el.setHeight(this.growMin))},onDestroy:function(){this.textSizeEl&&Ext.removeNode(this.textSizeEl);Ext.form.TextArea.superclass.onDestroy.call(this)},fireKey:function(n){n.isSpecialKey()&&(this.enterIsSpecial||n.getKey()!=n.ENTER||n.hasModifier())&&this.fireEvent("specialkey",this,n)},onKeyUp:function(n){n.isNavKeyPress()&&n.getKey()!=n.ENTER||this.autoSize()},autoSize:function(){var i;if(this.grow&&this.textSizeEl){var r=this.el,n=r.dom.value,t=this.textSizeEl;t.innerHTML="";t.appendChild(document.createTextNode(n));n=t.innerHTML;Ext.fly(t).setWidth(this.el.getWidth());n.length<1?n="&#160;&#160;":(Ext.isIE&&(n=n.replace(/\n/g,"<p>&#160;<\/p>")),n+=this.growAppend);t.innerHTML=n;i=Math.min(this.growMax,Math.max(t.offsetHeight,this.growMin)+this.growPad);i!=this.lastHeight&&(this.lastHeight=i,this.el.setHeight(i),this.fireEvent("autosize",this,i))}}});Ext.reg("textarea",Ext.form.TextArea)