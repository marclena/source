Ext.SplitButton=Ext.extend(Ext.Button,{arrowSelector:"button:last",initComponent:function(){Ext.SplitButton.superclass.initComponent.call(this);this.addEvents("arrowclick")},onRender:function(n,t){var r=new Ext.Template('<table cellspacing="0" class="x-btn-menu-wrap x-btn"><tr><td>','<table cellspacing="0" class="x-btn-wrap x-btn-menu-text-wrap"><tbody>','<tr><td class="x-btn-left"><i>&#160;<\/i><\/td><td class="x-btn-center"><button class="x-btn-text" type="{1}">{0}<\/button><\/td><\/tr>',"<\/tbody><\/table><\/td><td>",'<table cellspacing="0" class="x-btn-wrap x-btn-menu-arrow-wrap"><tbody>','<tr><td class="x-btn-center"><button class="x-btn-menu-arrow-el" type="button">&#160;<\/button><\/td><td class="x-btn-right"><i>&#160;<\/i><\/td><\/tr>',"<\/tbody><\/table><\/td><\/tr><\/table>"),i,u=[this.text||"&#160;",this.type],f;i=t?r.insertBefore(t,u,!0):r.append(n,u,!0);f=i.child(this.buttonSelector);this.initButtonEl(i,f);this.arrowBtnTable=i.child("table:last");this.arrowTooltip&&(i.child(this.arrowSelector).dom[this.tooltipType]=this.arrowTooltip)},autoWidth:function(){var t,i,n;this.el&&(t=this.el.child("table:first"),i=this.el.child("table:last"),this.el.setWidth("auto"),t.setWidth("auto"),Ext.isIE7&&Ext.isStrict&&(n=this.el.child(this.buttonSelector),n&&n.getWidth()>20&&(n.clip(),n.setWidth(Ext.util.TextMetrics.measure(n,this.text).width+n.getFrameWidth("lr")))),this.minWidth&&t.getWidth()+i.getWidth()<this.minWidth&&t.setWidth(this.minWidth-i.getWidth()),this.el.setWidth(t.getWidth()+i.getWidth()))},setArrowHandler:function(n,t){this.arrowHandler=n;this.scope=t},onClick:function(n){n.preventDefault();this.disabled||(n.getTarget(".x-btn-menu-arrow-wrap")?(!this.menu||this.menu.isVisible()||this.ignoreNextClick||this.showMenu(),this.fireEvent("arrowclick",this,n),this.arrowHandler&&this.arrowHandler.call(this.scope||this,this,n)):(this.enableToggle&&this.toggle(),this.fireEvent("click",this,n),this.handler&&this.handler.call(this.scope||this,this,n)))},getClickEl:function(n,t){return t?this.lastClickEl:this.lastClickEl=n.getTarget("table",10,!0)},onDisable:function(){this.el&&(Ext.isIE6||this.el.addClass("x-item-disabled"),this.el.child(this.buttonSelector).dom.disabled=!0,this.el.child(this.arrowSelector).dom.disabled=!0);this.disabled=!0},onEnable:function(){this.el&&(Ext.isIE6||this.el.removeClass("x-item-disabled"),this.el.child(this.buttonSelector).dom.disabled=!1,this.el.child(this.arrowSelector).dom.disabled=!1);this.disabled=!1},isMenuTriggerOver:function(n){return this.menu&&n.within(this.arrowBtnTable)&&!n.within(this.arrowBtnTable,!0)},isMenuTriggerOut:function(n){return this.menu&&!n.within(this.arrowBtnTable)},onDestroy:function(){Ext.destroy(this.arrowBtnTable);Ext.SplitButton.superclass.onDestroy.call(this)}});Ext.MenuButton=Ext.SplitButton;Ext.reg("splitbutton",Ext.SplitButton)