Ext.SplitBar=function(n,t,i,r,u){this.el=Ext.get(n,!0);this.el.dom.unselectable="on";this.resizingEl=Ext.get(t,!0);this.orientation=i||Ext.SplitBar.HORIZONTAL;this.minSize=0;this.maxSize=2e3;this.animate=!1;this.useShim=!1;this.shim=null;this.proxy=u?Ext.get(u).dom:Ext.SplitBar.createProxy(this.orientation);this.dd=new Ext.dd.DDProxy(this.el.dom.id,"XSplitBars",{dragElId:this.proxy.id});this.dd.b4StartDrag=this.onStartProxyDrag.createDelegate(this);this.dd.endDrag=this.onEndProxyDrag.createDelegate(this);this.dragSpecs={};this.adapter=new Ext.SplitBar.BasicLayoutAdapter;this.adapter.init(this);this.orientation==Ext.SplitBar.HORIZONTAL?(this.placement=r||(this.el.getX()>this.resizingEl.getX()?Ext.SplitBar.LEFT:Ext.SplitBar.RIGHT),this.el.addClass("x-splitbar-h")):(this.placement=r||(this.el.getY()>this.resizingEl.getY()?Ext.SplitBar.TOP:Ext.SplitBar.BOTTOM),this.el.addClass("x-splitbar-v"));this.addEvents("resize","moved","beforeresize","beforeapply");Ext.SplitBar.superclass.constructor.call(this)};Ext.extend(Ext.SplitBar,Ext.util.Observable,{onStartProxyDrag:function(n,t){var u,i,r;this.fireEvent("beforeresize",this);this.overlay=Ext.DomHelper.append(document.body,{cls:"x-drag-overlay",html:"&#160;"},!0);this.overlay.unselectable();this.overlay.setSize(Ext.lib.Dom.getViewWidth(!0),Ext.lib.Dom.getViewHeight(!0));this.overlay.show();Ext.get(this.proxy).setDisplayed("block");u=this.adapter.getElementSize(this);this.activeMinSize=this.getMinimumSize();this.activeMaxSize=this.getMaximumSize();i=u-this.activeMinSize;r=Math.max(this.activeMaxSize-u,0);this.orientation==Ext.SplitBar.HORIZONTAL?(this.dd.resetConstraints(),this.dd.setXConstraint(this.placement==Ext.SplitBar.LEFT?i:r,this.placement==Ext.SplitBar.LEFT?r:i),this.dd.setYConstraint(0,0)):(this.dd.resetConstraints(),this.dd.setXConstraint(0,0),this.dd.setYConstraint(this.placement==Ext.SplitBar.TOP?i:r,this.placement==Ext.SplitBar.TOP?r:i));this.dragSpecs.startSize=u;this.dragSpecs.startPoint=[n,t];Ext.dd.DDProxy.prototype.b4StartDrag.call(this.dd,n,t)},onEndProxyDrag:function(n){var i,t;Ext.get(this.proxy).setDisplayed(!1);i=Ext.lib.Event.getXY(n);this.overlay&&(this.overlay.remove(),delete this.overlay);t=this.orientation==Ext.SplitBar.HORIZONTAL?this.dragSpecs.startSize+(this.placement==Ext.SplitBar.LEFT?i[0]-this.dragSpecs.startPoint[0]:this.dragSpecs.startPoint[0]-i[0]):this.dragSpecs.startSize+(this.placement==Ext.SplitBar.TOP?i[1]-this.dragSpecs.startPoint[1]:this.dragSpecs.startPoint[1]-i[1]);t=Math.min(Math.max(t,this.activeMinSize),this.activeMaxSize);t!=this.dragSpecs.startSize&&this.fireEvent("beforeapply",this,t)!==!1&&(this.adapter.setElementSize(this,t),this.fireEvent("moved",this,t),this.fireEvent("resize",this,t))},getAdapter:function(){return this.adapter},setAdapter:function(n){this.adapter=n;this.adapter.init(this)},getMinimumSize:function(){return this.minSize},setMinimumSize:function(n){this.minSize=n},getMaximumSize:function(){return this.maxSize},setMaximumSize:function(n){this.maxSize=n},setCurrentSize:function(n){var t=this.animate;this.animate=!1;this.adapter.setElementSize(this,n);this.animate=t},destroy:function(n){this.shim&&this.shim.remove();this.dd.unreg();Ext.removeNode(this.proxy);n&&this.el.remove()}});Ext.SplitBar.createProxy=function(n){var t=new Ext.Element(document.createElement("div")),i;return t.unselectable(),i="x-splitbar-proxy",t.addClass(i+" "+(n==Ext.SplitBar.HORIZONTAL?i+"-h":i+"-v")),document.body.appendChild(t.dom),t.dom};Ext.SplitBar.BasicLayoutAdapter=function(){};Ext.SplitBar.BasicLayoutAdapter.prototype={init:function(){},getElementSize:function(n){return n.orientation==Ext.SplitBar.HORIZONTAL?n.resizingEl.getWidth():n.resizingEl.getHeight()},setElementSize:function(n,t,i){n.orientation==Ext.SplitBar.HORIZONTAL?n.animate?n.resizingEl.setWidth(t,!0,.1,i,"easeOut"):(n.resizingEl.setWidth(t),i&&i(n,t)):n.animate?n.resizingEl.setHeight(t,!0,.1,i,"easeOut"):(n.resizingEl.setHeight(t),i&&i(n,t))}};Ext.SplitBar.AbsoluteLayoutAdapter=function(n){this.basic=new Ext.SplitBar.BasicLayoutAdapter;this.container=Ext.get(n)};Ext.SplitBar.AbsoluteLayoutAdapter.prototype={init:function(n){this.basic.init(n)},getElementSize:function(n){return this.basic.getElementSize(n)},setElementSize:function(n,t){this.basic.setElementSize(n,t,this.moveSplitter.createDelegate(this,[n]))},moveSplitter:function(n){var t=Ext.SplitBar;switch(n.placement){case t.LEFT:n.el.setX(n.resizingEl.getRight());break;case t.RIGHT:n.el.setStyle("right",this.container.getWidth()-n.resizingEl.getLeft()+"px");break;case t.TOP:n.el.setY(n.resizingEl.getBottom());break;case t.BOTTOM:n.el.setY(n.resizingEl.getTop()-n.el.getHeight())}}};Ext.SplitBar.VERTICAL=1;Ext.SplitBar.HORIZONTAL=2;Ext.SplitBar.LEFT=1;Ext.SplitBar.RIGHT=2;Ext.SplitBar.TOP=3;Ext.SplitBar.BOTTOM=4