Ext.util.Observable=function(){if(this.listeners){this.on(this.listeners);delete this.listeners}};Ext.util.Observable.prototype={fireEvent:function(){if(this.eventsSuspended!==!0){var n=this.events[arguments[0].toLowerCase()];if(typeof n=="object")return n.fire.apply(n,Array.prototype.slice.call(arguments,1))}return!0},filterOptRe:/^(?:scope|delay|buffer|single)$/,addListener:function(n,t,i,r){var u,f;if(typeof n=="object"){r=n;for(u in r)this.filterOptRe.test(u)||(typeof r[u]=="function"?this.addListener(u,r[u],r.scope,r):this.addListener(u,r[u].fn,r[u].scope,r[u]));return}r=!r||typeof r=="boolean"?{}:r;n=n.toLowerCase();f=this.events[n]||!0;typeof f=="boolean"&&(f=new Ext.util.Event(this,n),this.events[n]=f);f.addListener(t,i,r)},removeListener:function(n,t,i){var r=this.events[n.toLowerCase()];typeof r=="object"&&r.removeListener(t,i)},purgeListeners:function(){for(var n in this.events)typeof this.events[n]=="object"&&this.events[n].clearListeners()},relayEvents:function(n,t){for(var i,u=function(n){return function(){return this.fireEvent.apply(this,Ext.combine(n,Array.prototype.slice.call(arguments,0)))}},r=0,f=t.length;r<f;r++){i=t[r];this.events[i]||(this.events[i]=!0);n.on(i,u(i),this)}},addEvents:function(n){if(this.events||(this.events={}),typeof n=="string")for(var t=0,i=arguments,r;r=i[t];t++)this.events[i[t]]||(n[i[t]]=!0);else Ext.applyIf(this.events,n)},hasListener:function(n){var t=this.events[n];return typeof t=="object"&&t.listeners.length>0},suspendEvents:function(){this.eventsSuspended=!0},resumeEvents:function(){this.eventsSuspended=!1},getMethodEvent:function(n){var t,r,i,u,f,e;return this.methodEvents||(this.methodEvents={}),t=this.methodEvents[n],t||(t={},this.methodEvents[n]=t,t.originalFn=this[n],t.methodName=n,t.before=[],t.after=[],f=this,e=function(n,t,e){(i=n.apply(t||f,e))!==undefined&&(typeof i=="object"?(r=i.returnValue!==undefined?i.returnValue:i,i.cancel===!0&&(u=!0)):i===!1?u=!0:r=i)},this[n]=function(){var o,n,s;for(r=i=undefined,u=!1,o=Array.prototype.slice.call(arguments,0),n=0,s=t.before.length;n<s;n++)if(e(t.before[n].fn,t.before[n].scope,o),u)return r;for((i=t.originalFn.apply(f,o))!==undefined&&(r=i),n=0,s=t.after.length;n<s;n++)if(e(t.after[n].fn,t.after[n].scope,o),u)return r;return r}),t},beforeMethod:function(n,t,i){var r=this.getMethodEvent(n);r.before.push({fn:t,scope:i})},afterMethod:function(n,t,i){var r=this.getMethodEvent(n);r.after.push({fn:t,scope:i})},removeMethodListener:function(n,t,i){for(var u=this.getMethodEvent(n),r=0,f=u.before.length;r<f;r++)if(u.before[r].fn==t&&u.before[r].scope==i){u.before.splice(r,1);return}for(r=0,f=u.after.length;r<f;r++)if(u.after[r].fn==t&&u.after[r].scope==i){u.after.splice(r,1);return}}};Ext.util.Observable.prototype.on=Ext.util.Observable.prototype.addListener;Ext.util.Observable.prototype.un=Ext.util.Observable.prototype.removeListener;Ext.util.Observable.capture=function(n,t,i){n.fireEvent=n.fireEvent.createInterceptor(t,i)};Ext.util.Observable.releaseCapture=function(n){n.fireEvent=Ext.util.Observable.prototype.fireEvent},function(){var n=function(n,t,i){var r=new Ext.util.DelayedTask;return function(){r.delay(t.buffer,n,i,Array.prototype.slice.call(arguments,0))}},t=function(n,t,i,r){return function(){return t.removeListener(i,r),n.apply(r,arguments)}},i=function(n,t,i){return function(){var r=Array.prototype.slice.call(arguments,0);setTimeout(function(){n.apply(i,r)},t.delay||10)}};Ext.util.Event=function(n,t){this.name=t;this.obj=n;this.listeners=[]};Ext.util.Event.prototype={addListener:function(n,t,i){if(t=t||this.obj,!this.isListening(n,t)){var r=this.createListener(n,t,i);this.firing?(this.listeners=this.listeners.slice(0),this.listeners.push(r)):this.listeners.push(r)}},createListener:function(r,u,f){f=f||{};u=u||this.obj;var o={fn:r,scope:u,options:f},e=r;return f.delay&&(e=i(e,f,u)),f.single&&(e=t(e,this,r,u)),f.buffer&&(e=n(e,f,u)),o.fireFn=e,o},findListener:function(n,t){var r,i,f,u;for(t=t||this.obj,r=this.listeners,i=0,f=r.length;i<f;i++)if(u=r[i],u.fn==n&&u.scope==t)return i;return-1},isListening:function(n,t){return this.findListener(n,t)!=-1},removeListener:function(n,t){var i;return(i=this.findListener(n,t))!=-1?(this.firing?(this.listeners=this.listeners.slice(0),this.listeners.splice(i,1)):this.listeners.splice(i,1),!0):!1},clearListeners:function(){this.listeners=[]},fire:function(){var i=this.listeners,r=i.length,u,n,t;if(r>0){for(this.firing=!0,u=Array.prototype.slice.call(arguments,0),n=0;n<r;n++)if(t=i[n],t.fireFn.apply(t.scope||this.obj||window,arguments)===!1)return this.firing=!1,!1;this.firing=!1}return!0}}}()