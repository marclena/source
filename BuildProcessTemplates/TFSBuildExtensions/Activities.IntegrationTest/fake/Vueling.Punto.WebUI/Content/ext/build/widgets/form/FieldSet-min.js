Ext.form.FieldSet=Ext.extend(Ext.Panel,{baseCls:"x-fieldset",layout:"form",onRender:function(n,t){if(this.el||(this.el=document.createElement("fieldset"),this.el.id=this.id,this.el.appendChild(document.createElement("legend")).className="x-fieldset-header"),Ext.form.FieldSet.superclass.onRender.call(this,n,t),this.checkboxToggle){var i=typeof this.checkboxToggle=="object"?this.checkboxToggle:{tag:"input",type:"checkbox",name:this.checkboxName||this.id+"-checkbox"};this.checkbox=this.header.insertFirst(i);this.checkbox.dom.checked=!this.collapsed;this.checkbox.on("click",this.onCheckClick,this)}},onCollapse:function(){this.checkbox&&(this.checkbox.dom.checked=!1);this.afterCollapse()},onExpand:function(){this.checkbox&&(this.checkbox.dom.checked=!0);this.afterExpand()},onCheckClick:function(){this[this.checkbox.dom.checked?"expand":"collapse"]()}});Ext.reg("fieldset",Ext.form.FieldSet)