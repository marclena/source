YAHOO.util.Anim=function(n,t,i,r){n&&this.init(n,t,i,r)};YAHOO.util.Anim.prototype={toString:function(){var n=this.getEl(),t=n.id||n.tagName;return"Anim "+t},patterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i},doMethod:function(n,t,i){return this.method(this.currentFrame,t,i-t,this.totalFrames)},setAttribute:function(n,t,i){this.patterns.noNegatives.test(n)&&(t=t>0?t:0);YAHOO.util.Dom.setStyle(this.getEl(),n,t+i)},getAttribute:function(n){var i=this.getEl(),r=YAHOO.util.Dom.getStyle(i,n);if(r!=="auto"&&!this.patterns.offsetUnit.test(r))return parseFloat(r);var t=this.patterns.offsetAttribute.exec(n)||[],u=!!t[3],f=!!t[2];return f||YAHOO.util.Dom.getStyle(i,"position")=="absolute"&&u?i["offset"+t[0].charAt(0).toUpperCase()+t[0].substr(1)]:0},getDefaultUnit:function(n){return this.patterns.defaultUnit.test(n)?"px":""},setRuntimeAttribute:function(n){var r,f,t=this.attributes,i,u,e;if(this.runtimeAttributes[n]={},i=function(n){return typeof n!="undefined"},!i(t[n].to)&&!i(t[n].by))return!1;if(r=i(t[n].from)?t[n].from:this.getAttribute(n),i(t[n].to))f=t[n].to;else if(i(t[n].by))if(r.constructor==Array)for(f=[],u=0,e=r.length;u<e;++u)f[u]=r[u]+t[n].by[u];else f=r+t[n].by;this.runtimeAttributes[n].start=r;this.runtimeAttributes[n].end=f;this.runtimeAttributes[n].unit=i(t[n].unit)?t[n].unit:this.getDefaultUnit(n)},init:function(n,t,i,r){var f=!1,e=null,u=0;n=YAHOO.util.Dom.get(n);this.attributes=t||{};this.duration=i||1;this.method=r||YAHOO.util.Easing.easeNone;this.useSeconds=!0;this.currentFrame=0;this.totalFrames=YAHOO.util.AnimMgr.fps;this.getEl=function(){return n};this.isAnimated=function(){return f};this.getStartTime=function(){return e};this.runtimeAttributes={};this.animate=function(){if(this.isAnimated())return!1;this.currentFrame=0;this.totalFrames=this.useSeconds?Math.ceil(YAHOO.util.AnimMgr.fps*this.duration):this.duration;YAHOO.util.AnimMgr.registerElement(this)};this.stop=function(n){n&&(this.currentFrame=this.totalFrames,this._onTween.fire());YAHOO.util.AnimMgr.stop(this)};var o=function(){this.onStart.fire();this.runtimeAttributes={};for(var n in this.attributes)this.setRuntimeAttribute(n);f=!0;u=0;e=new Date},s=function(){var i={duration:new Date-this.getStartTime(),currentFrame:this.currentFrame},t,n;i.toString=function(){return"duration: "+i.duration+", currentFrame: "+i.currentFrame};this.onTween.fire(i);t=this.runtimeAttributes;for(n in t)this.setAttribute(n,this.doMethod(n,t[n].start,t[n].end),t[n].unit);u+=1},h=function(){var t=(new Date-e)/1e3,n={duration:t,frames:u,fps:u/t};n.toString=function(){return"duration: "+n.duration+", frames: "+n.frames+", fps: "+n.fps};f=!1;u=0;this.onComplete.fire(n)};this._onStart=new YAHOO.util.CustomEvent("_start",this,!0);this.onStart=new YAHOO.util.CustomEvent("start",this);this.onTween=new YAHOO.util.CustomEvent("tween",this);this._onTween=new YAHOO.util.CustomEvent("_tween",this,!0);this.onComplete=new YAHOO.util.CustomEvent("complete",this);this._onComplete=new YAHOO.util.CustomEvent("_complete",this,!0);this._onStart.subscribe(o);this._onTween.subscribe(s);this._onComplete.subscribe(h)}};YAHOO.util.AnimMgr=new function(){var t=null,n=[],i=0,r,u;this.fps=1e3;this.delay=1;this.registerElement=function(t){n[n.length]=t;i+=1;t._onStart.fire();this.start()};this.unRegister=function(t,u){t._onComplete.fire();u=u||r(t);u!=-1&&n.splice(u,1);i-=1;i<=0&&this.stop()};this.start=function(){t===null&&(t=setInterval(this.run,this.delay))};this.stop=function(r){if(r)this.unRegister(r);else{clearInterval(t);for(var u=0,f=n.length;u<f;++u)n[0].isAnimated()&&this.unRegister(n[0],0);n=[];t=null;i=0}};this.run=function(){for(var t,i=0,r=n.length;i<r;++i)(t=n[i],t&&t.isAnimated())&&(t.currentFrame<t.totalFrames||t.totalFrames===null?(t.currentFrame+=1,t.useSeconds&&u(t),t._onTween.fire()):YAHOO.util.AnimMgr.stop(t,i))};r=function(t){for(var i=0,r=n.length;i<r;++i)if(n[i]==t)return i;return-1};u=function(n){var i=n.totalFrames,r=n.currentFrame,f=n.currentFrame*n.duration*1e3/n.totalFrames,u=new Date-n.getStartTime(),t=0;t=u<n.duration*1e3?Math.round((u/f-1)*n.currentFrame):i-(r+1);t>0&&isFinite(t)&&(n.currentFrame+t>=i&&(t=i-(r+1)),n.currentFrame+=t)}};YAHOO.util.Bezier=new function(){this.getPosition=function(n,t){for(var u,f=n.length,r=[],i=0;i<f;++i)r[i]=[n[i][0],n[i][1]];for(u=1;u<f;++u)for(i=0;i<f-u;++i)r[i][0]=(1-t)*r[i][0]+t*r[parseInt(i+1,10)][0],r[i][1]=(1-t)*r[i][1]+t*r[parseInt(i+1,10)][1];return[r[0][0],r[0][1]]}},function(){YAHOO.util.ColorAnim=function(n,t,i,r){YAHOO.util.ColorAnim.superclass.constructor.call(this,n,t,i,r)};YAHOO.extend(YAHOO.util.ColorAnim,YAHOO.util.Anim);var t=YAHOO.util,i=t.ColorAnim.superclass,n=t.ColorAnim.prototype;n.toString=function(){var n=this.getEl(),t=n.id||n.tagName;return"ColorAnim "+t};n.patterns.color=/color$/i;n.patterns.rgb=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i;n.patterns.hex=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i;n.patterns.hex3=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;n.patterns.transparent=/^transparent|rgba\(0, 0, 0, 0\)$/;n.parseColor=function(n){if(n.length==3)return n;var t=this.patterns.hex.exec(n);return t&&t.length==4?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:(t=this.patterns.rgb.exec(n),t&&t.length==4)?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]:(t=this.patterns.hex3.exec(n),t&&t.length==4)?[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]:null};n.getAttribute=function(n){var f=this.getEl(),r,u;if(this.patterns.color.test(n)){if(r=YAHOO.util.Dom.getStyle(f,n),this.patterns.transparent.test(r))for(u=f.parentNode,r=t.Dom.getStyle(u,n);u&&this.patterns.transparent.test(r);)u=u.parentNode,r=t.Dom.getStyle(u,n),u.tagName.toUpperCase()=="HTML"&&(r="#fff")}else r=i.getAttribute.call(this,n);return r};n.doMethod=function(n,t,r){var u,f,e;if(this.patterns.color.test(n)){for(u=[],f=0,e=t.length;f<e;++f)u[f]=i.doMethod.call(this,n,t[f],r[f]);u="rgb("+Math.floor(u[0])+","+Math.floor(u[1])+","+Math.floor(u[2])+")"}else u=i.doMethod.call(this,n,t,r);return u};n.setRuntimeAttribute=function(n){var t,e;if(i.setRuntimeAttribute.call(this,n),this.patterns.color.test(n)){var u=this.attributes,f=this.parseColor(this.runtimeAttributes[n].start),r=this.parseColor(this.runtimeAttributes[n].end);if(typeof u[n].to=="undefined"&&typeof u[n].by!="undefined")for(r=this.parseColor(u[n].by),t=0,e=f.length;t<e;++t)r[t]=f[t]+r[t];this.runtimeAttributes[n].start=f;this.runtimeAttributes[n].end=r}}}();YAHOO.util.Easing={easeNone:function(n,t,i,r){return i*n/r+t},easeIn:function(n,t,i,r){return i*(n/=r)*n+t},easeOut:function(n,t,i,r){return-i*(n/=r)*(n-2)+t},easeBoth:function(n,t,i,r){return(n/=r/2)<1?i/2*n*n+t:-i/2*(--n*(n-2)-1)+t},easeInStrong:function(n,t,i,r){return i*(n/=r)*n*n*n+t},easeOutStrong:function(n,t,i,r){return-i*((n=n/r-1)*n*n*n-1)+t},easeBothStrong:function(n,t,i,r){return(n/=r/2)<1?i/2*n*n*n*n+t:-i/2*((n-=2)*n*n*n-2)+t},elasticIn:function(n,t,i,r,u,f){var e;return n==0?t:(n/=r)==1?t+i:(f||(f=r*.3),!u||u<Math.abs(i)?(u=i,e=f/4):e=f/(2*Math.PI)*Math.asin(i/u),-(u*Math.pow(2,10*(n-=1))*Math.sin((n*r-e)*2*Math.PI/f))+t)},elasticOut:function(n,t,i,r,u,f){var e;return n==0?t:(n/=r)==1?t+i:(f||(f=r*.3),!u||u<Math.abs(i)?(u=i,e=f/4):e=f/(2*Math.PI)*Math.asin(i/u),u*Math.pow(2,-10*n)*Math.sin((n*r-e)*2*Math.PI/f)+i+t)},elasticBoth:function(n,t,i,r,u,f){var e;return n==0?t:(n/=r/2)==2?t+i:(f||(f=r*.3*1.5),!u||u<Math.abs(i)?(u=i,e=f/4):e=f/(2*Math.PI)*Math.asin(i/u),n<1)?-.5*u*Math.pow(2,10*(n-=1))*Math.sin((n*r-e)*2*Math.PI/f)+t:u*Math.pow(2,-10*(n-=1))*Math.sin((n*r-e)*2*Math.PI/f)*.5+i+t},backIn:function(n,t,i,r,u){return typeof u=="undefined"&&(u=1.70158),i*(n/=r)*n*((u+1)*n-u)+t},backOut:function(n,t,i,r,u){return typeof u=="undefined"&&(u=1.70158),i*((n=n/r-1)*n*((u+1)*n+u)+1)+t},backBoth:function(n,t,i,r,u){return(typeof u=="undefined"&&(u=1.70158),(n/=r/2)<1)?i/2*n*n*(((u*=1.525)+1)*n-u)+t:i/2*((n-=2)*n*(((u*=1.525)+1)*n+u)+2)+t},bounceIn:function(n,t,i,r){return i-YAHOO.util.Easing.bounceOut(r-n,0,i,r)+t},bounceOut:function(n,t,i,r){return(n/=r)<1/2.75?i*7.5625*n*n+t:n<2/2.75?i*(7.5625*(n-=1.5/2.75)*n+.75)+t:n<2.5/2.75?i*(7.5625*(n-=2.25/2.75)*n+.9375)+t:i*(7.5625*(n-=2.625/2.75)*n+.984375)+t},bounceBoth:function(n,t,i,r){return n<r/2?YAHOO.util.Easing.bounceIn(n*2,0,i,r)*.5+t:YAHOO.util.Easing.bounceOut(n*2-r,0,i,r)*.5+i*.5+t}},function(){var u,r;YAHOO.util.Motion=function(n,t,i,r){n&&YAHOO.util.Motion.superclass.constructor.call(this,n,t,i,r)};YAHOO.extend(YAHOO.util.Motion,YAHOO.util.ColorAnim);var n=YAHOO.util,t=n.Motion.superclass,i=n.Motion.prototype;i.toString=function(){var n=this.getEl(),t=n.id||n.tagName;return"Motion "+t};i.patterns.points=/^points$/i;i.setAttribute=function(n,i,r){this.patterns.points.test(n)?(r=r||"px",t.setAttribute.call(this,"left",i[0],r),t.setAttribute.call(this,"top",i[1],r)):t.setAttribute.call(this,n,i,r)};i.getAttribute=function(n){if(this.patterns.points.test(n))var i=[t.getAttribute.call(this,"left"),t.getAttribute.call(this,"top")];else i=t.getAttribute.call(this,n);return i};i.doMethod=function(i,r,u){var f=null,e;return this.patterns.points.test(i)?(e=this.method(this.currentFrame,0,100,this.totalFrames)/100,f=n.Bezier.getPosition(this.runtimeAttributes[i],e)):f=t.doMethod.call(this,i,r,u),f};i.setRuntimeAttribute=function(i){var a,v;if(this.patterns.points.test(i)){var c=this.getEl(),o=this.attributes,s,f=o.points.control||[],l,e,h;if(f.length>0&&!(f[0]instanceof Array))f=[f];else{for(a=[],e=0,h=f.length;e<h;++e)a[e]=f[e];f=a}if(n.Dom.getStyle(c,"position")=="static"&&n.Dom.setStyle(c,"position","relative"),r(o.points.from)?n.Dom.setXY(c,o.points.from):n.Dom.setXY(c,n.Dom.getXY(c)),s=this.getAttribute("points"),r(o.points.to))for(l=u.call(this,o.points.to,s),v=n.Dom.getXY(this.getEl()),e=0,h=f.length;e<h;++e)f[e]=u.call(this,f[e],s);else if(r(o.points.by))for(l=[s[0]+o.points.by[0],s[1]+o.points.by[1]],e=0,h=f.length;e<h;++e)f[e]=[s[0]+f[e][0],s[1]+f[e][1]];this.runtimeAttributes[i]=[s];f.length>0&&(this.runtimeAttributes[i]=this.runtimeAttributes[i].concat(f));this.runtimeAttributes[i][this.runtimeAttributes[i].length]=l}else t.setRuntimeAttribute.call(this,i)};u=function(t,i){var r=n.Dom.getXY(this.getEl());return[t[0]-r[0]+i[0],t[1]-r[1]+i[1]]};r=function(n){return typeof n!="undefined"}}(),function(){YAHOO.util.Scroll=function(n,t,i,r){n&&YAHOO.util.Scroll.superclass.constructor.call(this,n,t,i,r)};YAHOO.extend(YAHOO.util.Scroll,YAHOO.util.ColorAnim);var i=YAHOO.util,t=i.Scroll.superclass,n=i.Scroll.prototype;n.toString=function(){var n=this.getEl(),t=n.id||n.tagName;return"Scroll "+t};n.doMethod=function(n,i,r){return n=="scroll"?[this.method(this.currentFrame,i[0],r[0]-i[0],this.totalFrames),this.method(this.currentFrame,i[1],r[1]-i[1],this.totalFrames)]:t.doMethod.call(this,n,i,r)};n.getAttribute=function(n){var i=this.getEl();return n=="scroll"?[i.scrollLeft,i.scrollTop]:t.getAttribute.call(this,n)};n.setAttribute=function(n,i,r){var u=this.getEl();n=="scroll"?(u.scrollLeft=i[0],u.scrollTop=i[1]):t.setAttribute.call(this,n,i,r)}}();YAHOO.register("animation",YAHOO.util.Anim,{version:"2.2.0",build:"127"})