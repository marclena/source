Ext.data.JsonReader=function(n,t){n=n||{};Ext.data.JsonReader.superclass.constructor.call(this,n,t||n.fields)};Ext.extend(Ext.data.JsonReader,Ext.data.DataReader,{read:function(n){var i=n.responseText,t=eval("("+i+")");if(!t)throw{message:"JsonReader.read: Json object not found"};if(t.metaData){delete this.ef;this.meta=t.metaData;this.recordType=Ext.data.Record.create(t.metaData.fields);this.onMetaChange(this.meta,this.recordType,t)}return this.readRecords(t)},onMetaChange:function(){},simpleAccess:function(n,t){return n[t]},getJsonAccessor:function(){var n=/[\[\.]/;return function(t){try{return n.test(t)?new Function("obj","return obj."+t):function(n){return n[t]}}catch(i){}return Ext.emptyFn}}(),readRecords:function(n){var a,v,e,r,f,u,s;this.jsonData=n;var i=this.meta,h=this.recordType,t=h.prototype.fields,c=t.items,l=t.length;if(!this.ef)for(i.totalProperty&&(this.getTotal=this.getJsonAccessor(i.totalProperty)),i.successProperty&&(this.getSuccess=this.getJsonAccessor(i.successProperty)),this.getRoot=i.root?this.getJsonAccessor(i.root):function(n){return n},i.id?(a=this.getJsonAccessor(i.id),this.getId=function(n){var t=a(n);return t===undefined||t===""?null:t}):this.getId=function(){return null},this.ef=[],r=0;r<l;r++)t=c[r],v=t.mapping!==undefined&&t.mapping!==null?t.mapping:t.name,this.ef[r]=this.getJsonAccessor(v);var y=this.getRoot(n),p=y.length,w=p,b=!0;for(i.totalProperty&&(u=parseInt(this.getTotal(n),10),isNaN(u)||(w=u)),i.successProperty&&(u=this.getSuccess(n),(u===!1||u==="false")&&(b=!1)),e=[],r=0;r<p;r++){var o=y[r],k={},d=this.getId(o);for(f=0;f<l;f++)t=c[f],u=this.ef[f](o),k[t.name]=t.convert(u!==undefined?u:t.defaultValue);s=new h(k,d);s.json=o;e[r]=s}return{success:b,records:e,totalRecords:w}}})