function Remove(){confirm("¿Está seguro que desea dar de baja al socio ?")&&Ext.Ajax.request({url:params.UrlRemove,params:{FFId:params.FFId},success:function(n){respObj=Ext.decode(n.responseText);respObj.success?(alert("El socio ha sido dado de baja correctamente"),document.location.reload()):alert("Ocurrió un error intentando dar de baja al socio. Póngase en contacto con helpdesk.")},failure:function(){alert("Ocurrió un error intentando dar de baja al socio. Inténtelo más tarde.")}})}function ToggleState(){confirm("¿Está seguro que desea "+StateAction+" del socio ?")&&Ext.Ajax.request({url:params.UrlToggleState,params:{FFId:params.FFId},success:function(n){respObj=Ext.decode(n.responseText);respObj.success?(Profile(),params.IsBlockedUser=params.IsBlockedUser?!1:!0,StateAction=params.IsBlockedUser?"Desbloquear Cuenta":"Bloquear Cuenta",$("StatusLbl").innerHTML=params.IsBlockedUser?"Bloqueado":"Desbloqueado",Ext.getCmp("btnToggleStatus").setText(params.IsBlockedUser?"Desbloquear Cuenta":"Bloquear Cuenta"),showhide("UsertTypeHeader"),showhide("UserTypeValue")):alert("Ocurrió un error intentando cambiar el estado de bloqueo del socio. Póngase en contacto con helpdesk.")},failure:function(){alert("Ocurrió un error intentando "+StateAction+". Intentelo más tarde.")}})}function showhide(n){var t=document.getElementById(n).style;t.visibility=params.IsBlockedUser==!1&&params.IsDeletedUser==!1&&params.UserType?"visible":"hidden"}function Profile(){document.location.href=params.UrlProfile+"?ffid="+params.FFId}function Movements(){document.location.href=params.UrlMovements+"?ffid="+params.FFId}function RecoverPoints(){document.formRecover90DaysPoints.submit()}function Modifify(){document.form_login.submit()}function ConfirmClienRegistration(){var n=params.UrlConfirmRegistration;document.location.href=n}function RegisterClientInPunto(){var n=params.RegisterClientInPunto;document.location.href=n}function UnregisterClientInPunto(){var n=params.UnregisterClientInPunto;document.location.href=n}function SendMailWithPasswordToMember(){var n=params.SendMailPasswordToClient;Ext.Ajax.request({url:n,success:function(n){respObj=Ext.decode(n.responseText);respObj.success?alert("Email de contraseña del miembro enviado correctamente."):alert("Ocurrió un error intentando enviar el email con la contraseña del miembro")},failure:function(){alert("Ocurrió un error intentando enviar el email con la contraseña del miembro")}})}function UnregisterClientInPunto(){var n=params.UnregisterClientInPunto;document.location.href=n}function Buy(){document.formBuy.submit()}function BuyWithPoints(){document.formBuyWidthPoints.submit()}function Reactivate(){confirm("¿Está seguro que desea reactivar al socio ?")&&Ext.Ajax.request({url:params.UrlReactivate,params:{FFId:params.FFId},success:function(){alert("El socio ha sido reactivado correctamente");document.location.reload()},failure:function(){alert("Ocurrió un error intentando reactivar al socio. Inténtelo más tarde.")}})}var $=function(n){var t=document.getElementById(n);return(t==null||t==undefined)&&(t=document.getElementsByName(n)),t},StateAction;Ext.onReady(function(){var n,t,i,r,u,f,e,o,s,h;showhide("UsertTypeHeader");showhide("UserTypeValue");params.IsDeletedUser?n=new Ext.Button({text:"Reactivar",renderTo:"btnReactivate",tabIndex:1,minWidth:140,handler:Reactivate}):(params.IsPendingForRegistrationUser||(StateAction=params.IsBlockedUser?"Desbloquear Cuenta":"Bloquear Cuenta",toggleBtnLabel=StateAction,n=new Ext.Button({text:"Balance",renderTo:"btnBalance",tabIndex:1,minWidth:140,handler:Movements}),params.IsUnregisterMyVuelingButtonVisible&&(t=new Ext.Button({text:"Dar Baja",renderTo:"btnRemove",tabIndex:4,minWidth:140,handler:Remove})),params.IsBlockButtonVisible&&(i=new Ext.Button({id:"btnToggleStatus",text:toggleBtnLabel,renderTo:"btnToggle",tabIndex:5,minWidth:140,handler:ToggleState})),r=new Ext.Button({text:"Modificar",renderTo:"btnModify",tabIndex:6,minWidth:140,handler:Modifify}),u=new Ext.Button({text:"Recuperar Contraseña",renderTo:"btnSendMailWithPasswordToMember",tabIndex:8,minWidth:140,handler:SendMailWithPasswordToMember}),params.IsPuntoUser&&(params.IsUnregisterPuntoButtonVisible&&(f=new Ext.Button({text:"Dar Baja de Punto",renderTo:"btnUnregisterClientInPunto",tabIndex:9,minWidth:140,handler:UnregisterClientInPunto})),e=new Ext.Button({text:"Recuperar Puntos 90 días",renderTo:"btnRecover",tabIndex:2,minWidth:140,handler:RecoverPoints}),o=new Ext.Button({text:"Comprar con Puntos",renderTo:"btnBuyWidthPoints",tabIndex:11,minWidth:140,handler:BuyWithPoints})),s=new Ext.Button({text:"Comprar",renderTo:"btnBuy",tabIndex:10,minWidth:140,handler:Buy})),params.IsConfirmButtonVisible&&(h=new Ext.Button({text:params.ConfirmRegistrationButtonText,renderTo:"btnConfirmClienRegistration",tabIndex:7,minWidth:140,handler:ConfirmClienRegistration})))})